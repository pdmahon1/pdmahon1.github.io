<!DOCTYPE html>
<html>

<head>
	<title>Peter Mahon's personal page</title>
	<link rel="stylesheet" href="styles.css" />
	<meta charset="UTF-8" />
	<meta name="keywords" content="peter, mahon, software, engineering" />
	<meta name="description" content="Peter Mahon's personal webpage" />
	<meta name="author" content="Peter Mahon" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<base href="https://www.pdmahon1.github.io/" target="_blank">
	<!-- <script>
		window.addEventListener("load", () => {
			//set the current year in the footer
					outputHome();
		});
		window.addEventListener("")
	</script> -->
</head>
<body>
<div class="body-wrapper">

	<div class="column-spacer" id="left-column-spacer"></div>
	
	<div class="content-column">
		<!-- header-container -->
		<div class="header-container">			
			<div class="header-title">
				<img src="https://media.licdn.com/dms/image/v2/D4E03AQEcei9Jcz4lLQ/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1704831723043?e=1754524800&v=beta&t=8gG67vL-3dHDQSsHBihCYviiYnqmMUTl4K-HSwVngHM" 
					 alt="My LinkedIn Profile Picture" 
					 id="profile-picture" />
				<p>
					Peter Mahon
				</p>
			</div>			
		</div>
		<!-- header-container -->

		<div class="main-content">
			
			<div class="links" id="links">	
				<div>
					<a href="javascript:void(0)" id="link-home" onclick="outputHome()" target="_self">
						Home
					</a>
				</div> <!-- end links -->

				<div>
					<a href="javascript:void(0)" id="link-projects" onclick="outputProjects()" target="_self">
						Projects
					</a>
				</div>

				<div>
					<a href="javascript:void(0)" id="link-work-experience" onclick="outputWorkExperience()" target="_self">
						Work Experience
					</a>
				</div>

				<div>
					<a href="https://github.com/pdmahon1/" target="_blank">
						Github&#10532;
					</a>
				</div>
				
				<div>
					<a href="https://linkedin.com/in/pdmahon1" target="_blank">
						LinkedIn&#10532;
					</a>
				</div>

			</div> <!-- end div.links -->

			<div class="content" id="content"></div>
		</div>
		<!-- end main content -->

		<div class="footer">
			<footer>
				<p>
					Hi! Thank you for reading to the bottom of my page. <br />
					<br />
					&copy;<span id="footer-year"></span> Peter Mahon 
				</p>
			</footer>
		</div>
	</div><!-- end content-column -->
	
	<div class="column-spacer" id="right-column-spacer"></div>
	
</div> <!-- end body-wrapper -->

<script>	
	function outputHome(){
		updateContent("home");
	}
	
	function outputProjects(){
		updateContent("projects");
	}
	
	function outputWorkExperience(){
		updateContent("work-history");
	}

	function urlFactory(location){
		const baseURL = "https://raw.githubusercontent.com/pdmahon1/pdmahon1.github.io/refs/heads/main/files/";
		return `${baseURL}${location}.txt`;
	}

	async function updateContent(contentName){
		try {
			const url = urlFactory(contentName);
console.log("Url chosen: " + url);
			const response = await fetch(url);
			if (!response.ok) {
				throw new Error(`Could not retrieve Home data.`);
			}

			const output = await response.text();
			document.getElementById(`content`).innerHTML = output;
		} catch (error) {
			console.error(error.message);
		}
	}

	function setFooterYear(){
		document.getElementById("footer-year").innerHTML = new Date().getFullYear();
	}

	outputHome();
	setFooterYear();
</script>
</body>
</html>